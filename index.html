<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Willkommen bei Claw Games!</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="homepage">
    <div id="preloader">
        <div class="loader"></div>
    </div>
    <header>
        <div class="container">
            <h1>Willkommen bei Claw Games!</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Startseite</a></li>
                    <li><a href="satisfactory.html">Satisfactory</a></li>
                    <li><a href="minecraft.html">Minecraft</a></li>
                    <li><a href="discord.html">Discord Server</a></li>
                    <li><a href="contact.html">Kontakt ‚úâÔ∏è</a></li>
                    <li><a href="clips.html">Clips & Galerie</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <div class="container welcome-card">
            <h2>Deine Anlaufstelle f√ºr Games! üéÆ</h2>
            <p>Sch√∂n, dass du hier bist! Auf dieser Seite findest du alle Informationen zu unseren Gaming-Servern und unserer Community.</p>
            <p>W√§hle einfach im Men√º das Spiel aus, das dich interessiert, um die Serverdetails zu sehen:</p>
            <div class="game-links">
                <a href="satisfactory.html" class="game-button satisfactory-button">Satisfactory üè≠</a>
                <a href="minecraft.html" class="game-button minecraft-button">Minecraft ‚õèÔ∏è</a>
                <a href="discord.html" class="game-button discord-button">Discord üí¨</a>
            </div>
            <p class="cta">Viel Spa√ü beim Spielen und Entdecken! üëã</p>

            <section class="news-feed-card" id="newsFeed">
                <h2>Neueste Updates! ‚ú®</h2>
                <div class="search-container" style="text-align: center; margin-bottom: 20px;">
                    <input type="text" id="newsSearchInput" placeholder="News durchsuchen..." style="padding: 10px; border-radius: 5px; border: 1px solid var(--homepage-accent); background-color: var(--homepage-bg); color: var(--homepage-text); width: 80%; max-width: 400px;">
                    <button id="newsSearchButton" class="game-button discord-button" style="margin-left: 10px; padding: 10px 15px; font-size: 1em; width: auto;">Suchen</button>
                </div>
                <div id="newsContent">
                    </div>
            </section>

            <section class="discord-widget-container" style="text-align: center; margin-top: 40px;">
                <h2>Discord Server-Aktivit√§t live! üìä</h2>
                <iframe src="https://discord.com/widget?id=1033415051601780766&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
                <p class="cta" style="margin-top: 20px;">Sieh, wer gerade online ist und tritt dem Chat bei! üó£Ô∏è</p>
            </section>
        </div>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2025 Dein Name - Mit viel Gaming-Liebe gemacht.</p>
        </div>
    </footer>

    <script>
        // Array, das alle News-Artikel speichert (global oder au√üerhalb der Funktion, damit es zug√§nglich ist)
        let allNewsArticles = [];

        // JavaScript f√ºr die schrumpfende Navigation
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Funktion zum dynamischen Laden und Filtern der News-Eintr√§ge
        function loadNewsFeed(searchTerm = '') {
            const newsFeedElement = document.getElementById('newsFeed');
            const newsContentContainer = document.getElementById('newsContent');
            if (!newsFeedElement || !newsContentContainer) {
                console.error("News-Feed-Elemente nicht gefunden.");
                return;
            }

            // News-Artikel definieren, falls noch nicht geschehen (nur einmal initial laden)
            if (allNewsArticles.length === 0) {
                allNewsArticles = [
                    {
                        title: "All the Mods 10-3.0 ist da! üéâ",
                        date: "2025-05-20",
                        content: `
                            <p>Ein gro√ües Update f√ºr All the Mods 10 ist verf√ºgbar: <strong>Version 3.0</strong>! Hier sind die wichtigsten √Ñnderungen:</p>
                            <h4>Detaillierte √Ñnderungen:</h4>
                            <ul>
                                <li><strong>Star Automation Rework:</strong> Modern Industrialization (MI) ist jetzt f√ºr Star Automation erforderlich, da es konstante Probleme mit MMR Multiblocks gab. Einige High-End-Hatches und Controller haben ein Rezept zur Konvertierung zu MI. Beachte, dass die Multiblock-Strukturmuster nicht mehr die gleichen sind wie zuvor in MMR; platziere den MI-Controller und verwende den MI-Schl√ºssel, um das Muster anzuzeigen. Bestehende MMR-Multiblocks behalten ihre Rezepte, aber es k√∂nnen keine neuen MMR-Controller mehr erstellt werden.</li>
                            </ul>
                            <h4>Neu hinzugef√ºgte Mods:</h4>
                            <ul>
                                <li>Ars Elemancy (1.3)</li>
                                <li>Silent's Gems (5.0.3)</li>
                                <li>Starbunclemania (1.4.0.0)</li>
                                <li>Transfer Labels (0.1.2)</li>
                            </ul>
                            <p>Die Neoforge-Version wurde auf <strong>21.1.172</strong> aktualisiert.</p>
                            <h4>Bekannte Probleme:</h4>
                            <ul>
                                <li>Falls das Spiel beim Interagieren mit Ars Lectern abst√ºrzt, einfach das Lectern abbauen und neu platzieren.</li>
                            </ul>
                            <p style="font-weight: bold; color: orange;">WICHTIG: IMMER EIN BACKUP ERSTELLEN, BEVOR DU UPDATEST!</p>
                        `
                    },
                    {
                        title: "Server-Wartung abgeschlossen! ‚úÖ",
                        date: "2025-06-28",
                        content: `<p>Die geplante Wartung unseres Minecraft-Servers ist erfolgreich abgeschlossen. Alles l√§uft wieder stabil! Viel Spa√ü beim Bauen!</p>`
                    },
                    {
                        title: "Neues Modpack f√ºr Minecraft geplant! üì¶",
                        date: "2025-06-25",
                        content: `<p>Wir pr√ºfen aktuell ein neues Modpack f√ºr unseren Minecraft-Server. Bleibt dran f√ºr weitere Infos!</p>`
                    },
                    {
                        title: "Satisfactory Update 9 ist da! üöÄ",
                        date: "2025-06-20",
                        content: `<p>Das gro√üe Satisfactory Update 9 wurde ver√∂ffentlicht! Mehr Inhalte, mehr Fabrikwahnsinn!</p>`
                    },
                    // F√ºge neue News-Artikel hier hinzu.
                ];

                // Initial sortieren (nur einmal beim ersten Laden)
                allNewsArticles.sort((a, b) => new Date(b.date) - new Date(a.date));
            }


            // Artikel basierend auf dem Suchbegriff filtern
            let filteredArticles = allNewsArticles;
            if (searchTerm) {
                const lowerCaseSearchTerm = searchTerm.toLowerCase();
                filteredArticles = allNewsArticles.filter(article =>
                    article.title.toLowerCase().includes(lowerCaseSearchTerm) ||
                    article.content.toLowerCase().includes(lowerCaseSearchTerm)
                );
            }

            // Inhalt des Containers leeren
            newsContentContainer.innerHTML = '';

            if (filteredArticles.length === 0) {
                newsContentContainer.innerHTML = '<p style="text-align: center; color: var(--homepage-text);">Keine Ergebnisse gefunden.</p>';
                return;
            }

            filteredArticles.forEach((article, index) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';

                const titleElement = document.createElement('h3');
                titleElement.textContent = article.title;
                newsItem.appendChild(titleElement);

                const dateElement = document.createElement('p');
                dateElement.className = 'news-date';
                const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
                dateElement.textContent = new Date(article.date).toLocaleDateString('de-DE', dateOptions);
                newsItem.appendChild(dateElement);

                const contentDiv = document.createElement('div');
                contentDiv.innerHTML = article.content;
                newsItem.appendChild(contentDiv);

                newsContentContainer.appendChild(newsItem);
            });
        }

        // JavaScript zum Ausblenden des Preloaders und zum Initialisieren der Suchfunktion
        window.addEventListener('load', function() {
            const preloader = document.getElementById('preloader');
            if (preloader) {
                preloader.classList.add('hidden');
            }

            // Lade den News-Feed beim Start (ohne Suchbegriff)
            loadNewsFeed();

            // Suchfunktion initialisieren
            const newsSearchInput = document.getElementById('newsSearchInput');
            const newsSearchButton = document.getElementById('newsSearchButton');

            if (newsSearchInput) {
                // Bei Eingabe im Suchfeld (live-Suche)
                newsSearchInput.addEventListener('input', (event) => {
                    loadNewsFeed(event.target.value);
                });

                // Bei Klick auf den Suchen-Button (falls gew√ºnscht, obwohl Input-Event schon filtert)
                if (newsSearchButton) {
                    newsSearchButton.addEventListener('click', () => {
                        loadNewsFeed(newsSearchInput.value);
                    });
                }
            }
        });
    </script>
</body>
</html>